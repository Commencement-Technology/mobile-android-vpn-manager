<mxfile host="app.diagrams.net" modified="2023-08-08T12:22:14.709Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/115.0" etag="ffR5TwG5jIRvm6_nFuNP" version="21.6.5" type="device">
  <diagram id="KU7QQYe5bExyGDLV9O2B" name="Page-1">
    <mxGraphModel dx="723" dy="376" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="hOIjXrLVrSKnlItpXQX8-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;fontSize=14;" parent="1" source="hOIjXrLVrSKnlItpXQX8-2" target="hOIjXrLVrSKnlItpXQX8-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-2" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.mobile_client;fillColor=#D2D3D3;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="180" y="218.5" width="100" height="183" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-3" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;(Any) &lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Android Client&lt;/font&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="180" y="425" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="390" y="220" width="810" height="360" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-5" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;Android VPN Manager&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="645" y="180" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;" parent="1" source="hOIjXrLVrSKnlItpXQX8-6" target="hOIjXrLVrSKnlItpXQX8-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;" parent="1" source="hOIjXrLVrSKnlItpXQX8-6" target="hOIjXrLVrSKnlItpXQX8-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-6" value="VPNManager" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="340" y="280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-8" value="TargetProvider" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="530" y="280" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;" parent="1" source="hOIjXrLVrSKnlItpXQX8-9" target="hOIjXrLVrSKnlItpXQX8-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-9" value="VPNServiceManager" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="530" y="405" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;" parent="1" source="hOIjXrLVrSKnlItpXQX8-10" target="hOIjXrLVrSKnlItpXQX8-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;" parent="1" source="hOIjXrLVrSKnlItpXQX8-10" target="hOIjXrLVrSKnlItpXQX8-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-10" value="VPNProtocol" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="780" y="400" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-11" value="OpenVPN" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1030" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-12" value="Wireguard" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1030" y="480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-22" value="&lt;h1&gt;TargetProvider&lt;/h1&gt;&lt;p&gt;Given a list of servers, it provides the optimal server to attempt to connect to. The latency is the only property being evaluated at the moment. Meaning that it will provide the server with the lowest latency.&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="350" y="630" width="190" height="130" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-23" value="&lt;h1&gt;VPNServiceManager&lt;br&gt;&lt;/h1&gt;&lt;p align=&quot;left&quot;&gt;It handles the lifecycle of Android&#39;s foreground service, along with its configuration. It also handles the high level reconnection attempts when the vpn connection is interrupted.&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="560" y="630" width="230" height="120" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-24" value="&lt;h1&gt;VPNProtocol&lt;br&gt;&lt;/h1&gt;&lt;p&gt;It defines the connection, reconnection, and disconnection steps for a supported protocol. Those steps represent the communication between the library and the protocol binaries.&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="812" y="630" width="190" height="130" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-25" value="&lt;h1&gt;OpenVPN&lt;br&gt;&lt;/h1&gt;&lt;p&gt;It contains all logic specific to the OpenVPN protocol and its external specifics. Process lifecycle, output handler, etc.&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1020" y="630" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-27" value="&lt;h1&gt;Wireguard&lt;br&gt;&lt;/h1&gt;&lt;p&gt;It contains all logic specific to the Wireguard protocol and its external specifics. As we consume directly the wireguard go sources. There is no much custom overhead apart from the definition of the module&#39;s entry point&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1220" y="630" width="190" height="140" as="geometry" />
        </mxCell>
        <mxCell id="hOIjXrLVrSKnlItpXQX8-28" value="&lt;h1&gt;VPNManager&lt;br&gt;&lt;/h1&gt;&lt;p&gt;It presents the client&#39;s entry point. Internally the module iterates through the list of servers in case of failure. Identifying the best server to connect to on each iteration with the help of the &lt;b&gt;TargetProvider&lt;/b&gt;.&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="130" y="630" width="190" height="140" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
